{"version":3,"sources":["../../routes/api.js"],"names":["express","require","router","Router","path","jf","async","get","req","res","next","db","collection","findOne","e","dances","json","console","log","params","level","category","dance","steps","stepList","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;AACA,IAAMC,OAAOH,QAAQ,MAAR,CAAb;AACA,IAAMI,KAAKJ,QAAQ,UAAR,CAAX;AACA,IAAMK,QAAQL,QAAQ,OAAR,CAAd;;AAEAC,OAAOK,GAAP,CAAW,SAAX,EAAsB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC5C,QAAIC,KAAKH,IAAIG,EAAb;AACA,QAAIC,aAAaD,GAAGJ,GAAH,CAAO,iBAAP,CAAjB;AACAK,eAAWC,OAAX,CAAmB,EAAnB,EAAuB,EAAvB,EAA2B,UAAUC,CAAV,EAAaC,MAAb,EAAqB;AAC5CN,YAAIO,IAAJ,CACID,MADJ;AAGH,KAJD;AAKH,CARD;;AAUAb,OAAOK,GAAP,CAAW,mBAAX,EAAgC,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACtD,QAAIC,KAAKH,IAAIG,EAAb;AACAM,YAAQC,GAAR,CAAYV,IAAIW,MAAJ,CAAWC,KAAvB;AACA,QAAIR,aAAaD,GAAGJ,GAAH,CAAOC,IAAIW,MAAJ,CAAWE,QAAlB,CAAjB;AACAT,eAAWC,OAAX,CAAmB,EAACS,OAAOd,IAAIW,MAAJ,CAAWG,KAAnB,EAAnB,EAA8C,EAACC,OAAO,CAAR,EAA9C,EAA0D,UAAUT,CAAV,EAAaU,QAAb,EAAuB;AAC7Ef,YAAIO,IAAJ,CACIQ,QADJ;AAGH,KAJD;AAKA;;;;;;AAMH,CAfD;;AAiBAC,OAAOC,OAAP,GAAiBxB,MAAjB","file":"api.js","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\nconst path = require('path');\r\nconst jf = require('jsonfile');\r\nconst async = require('async');\r\n\r\nrouter.get('/dances', function (req, res, next) {\r\n    var db = req.db;\r\n    var collection = db.get('ballroom_dances');\r\n    collection.findOne({}, {}, function (e, dances) {\r\n        res.json(\r\n            dances\r\n        );\r\n    });\r\n});\r\n\r\nrouter.get('/:category/:dance', function (req, res, next) {\r\n    var db = req.db;\r\n    console.log(req.params.level);\r\n    var collection = db.get(req.params.category);\r\n    collection.findOne({dance: req.params.dance}, {steps: 1}, function (e, stepList) {\r\n        res.json(\r\n            stepList\r\n        )\r\n    });\r\n    /*\r\n    res.json({\r\n        level: req.query.level,\r\n        category: req.query.category,\r\n        dance: req.query.dance\r\n    }); */\r\n});\r\n\r\nmodule.exports = router;"]}