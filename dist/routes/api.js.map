{"version":3,"sources":["../../routes/api.js"],"names":["express","require","router","Router","path","jf","async","get","req","res","next","db","collection","findOne","e","dances","json","params","category","dance","stepList","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;AACA,IAAMC,OAAOH,QAAQ,MAAR,CAAb;AACA,IAAMI,KAAKJ,QAAQ,UAAR,CAAX;AACA,IAAMK,QAAQL,QAAQ,OAAR,CAAd;;AAEAC,OAAOK,GAAP,CAAW,SAAX,EAAsB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC5C,QAAIC,KAAKH,IAAIG,EAAb;AACA,QAAIC,aAAaD,GAAGJ,GAAH,CAAO,iBAAP,CAAjB;AACAK,eAAWC,OAAX,CAAmB,EAAnB,EAAuB,EAAvB,EAA2B,UAAUC,CAAV,EAAaC,MAAb,EAAqB;AAC5CN,YAAIO,IAAJ,CACID,MADJ;AAGH,KAJD;AAKH,CARD;;AAWAb,OAAOK,GAAP,CAAW,gCAAX,EAA6C,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACnE,QAAIC,KAAKH,IAAIG,EAAb;AACA,QAAIC,aAAaD,GAAGJ,GAAH,CAAOC,IAAIS,MAAJ,CAAWC,QAAlB,CAAjB;AACAN,eAAWC,OAAX,CAAmB,EAACM,OAAOX,IAAIS,MAAJ,CAAWE,KAAnB,EAAnB,EAA8C,UAAUL,CAAV,EAAaM,QAAb,EAAuB;AACjEX,YAAIO,IAAJ,CACII,QADJ;AAGH,KAJD;AAKA;;;;;;AAMH,CAdD;;AAgBAC,OAAOC,OAAP,GAAiBpB,MAAjB","file":"api.js","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\nconst path = require('path');\r\nconst jf = require('jsonfile');\r\nconst async = require('async');\r\n\r\nrouter.get('/dances', function (req, res, next) {\r\n    var db = req.db;\r\n    var collection = db.get('ballroom_dances');\r\n    collection.findOne({}, {}, function (e, dances) {\r\n        res.json(\r\n            dances\r\n        );\r\n    });\r\n});\r\n\r\n\r\nrouter.get('/dance/:level/:category/:dance', function (req, res, next) {\r\n    var db = req.db;\r\n    var collection = db.get(req.params.category);\r\n    collection.findOne({dance: req.params.dance}, function (e, stepList) {\r\n        res.json(\r\n            stepList\r\n        )\r\n    });\r\n    /*\r\n    res.json({\r\n        level: req.query.level,\r\n        category: req.query.category,\r\n        dance: req.query.dance\r\n    }); */\r\n});\r\n\r\nmodule.exports = router;"]}